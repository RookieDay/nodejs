<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>npm security updates v2.15.1 and v3.8.3 | Node.js</title>

    <link rel="dns-prefetch" href="http://fonts.googleapis.com">
    <link rel="dns-prefetch" href="http://fonts.gstatic.com">
    <link rel="dns-prefetch" href="http://www.google-analytics.com">

    <meta name="author" content="Node.js Foundation">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon" href="/static/apple-touch-icon.png">
    <link rel="icon" sizes="32x32" type="image/png" href="/static/favicon.png">

    <link rel="canonical" href="https://nodejs.org/en/blog/vulnerability/npm-tokens-leak-march-2016/">
        <link rel="alternate" href="/en/feed/blog.xml" title="Node.js Blog" type="application/rss+xml">
        <link rel="alternate" href="/en/feed/releases.xml" title="Node.js Blog: Releases" type="application/rss+xml">
        <link rel="alternate" href="/en/feed/vulnerability.xml" title="Node.js Blog: Vulnerability Reports" type="application/rss+xml">
        <link rel="alternate" href="/en/feed/tsc-minutes.xml" title="Node.js TSC meeting minutes" type="application/rss+xml">
    <link rel="stylesheet" href="../../../styles.css" tppabs="http://nodejs.org/en/styles.css" media="all">
    <link rel="stylesheet" href="../../../../../fonts.googleapis.com/css-family=Source+Sans+Pro-400,600.css" tppabs="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600">
    <script>
        document.querySelector('html').className += " has-js";

        !function(n,o,d,e,j,s){n.GoogleAnalyticsObject=d;n[d]||(n[d]=function(){
        (n[d].q=n[d].q||[]).push(arguments)});n[d].l=+new Date;j=o.createElement(e);
        s=o.getElementsByTagName(e)[0];j.async=1;j.src='../../../../../www.google-analytics.com/analytics-1.js'/*tpa=http://www.google-analytics.com/analytics.js*/;
        s.parentNode.insertBefore(j,s)}(window,document,'ga','script');

        ga('create', 'UA-67020396-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body>
    <header>
        <div class="container">
    
            <a href="javascript:if(confirm(%27http://nodejs.org/en  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://nodejs.org/en%27" tppabs="http://nodejs.org/en" id="logo">
              <img src="../../../../static/images/logos/nodejs-new-white-pantone.png" tppabs="http://nodejs.org/static/images/logos/nodejs-new-white-pantone.png" alt="node.js">
            </a>
    
            <nav>
                <ul class="list-divider-pipe">
                    <li>
                        <a href="../../../index.htm" tppabs="http://nodejs.org/en/">Home</a>
                    </li>
                        <li>
                            <a href="../../../about/index.htm" tppabs="http://nodejs.org/en/about/">About</a>
                        </li>
                        <li>
                            <a href="../../../download/index.htm" tppabs="http://nodejs.org/en/download/">Downloads</a>
                        </li>
                        <li>
                            <a href="../../../docs/index.htm" tppabs="http://nodejs.org/en/docs/">Docs</a>
                        </li>
                        <li>
                            <a href="../../../foundation/index.htm" tppabs="http://nodejs.org/en/foundation/">Foundation</a>
                        </li>
                        <li>
                            <a href="../../../get-involved/index.htm" tppabs="http://nodejs.org/en/get-involved/">Get Involved</a>
                        </li>
                        <li>
                            <a href="../../../security/index.htm" tppabs="http://nodejs.org/en/security/">Security</a>
                        </li>
                        <li class="active">
                            <a href="../../index-1.htm" tppabs="http://nodejs.org/en/blog/">News</a>
                        </li>
                </ul>
            </nav>
    
        </div>
    </header>

    <div id="main">
        <div class="container">

            <article>
                <div class="blogpost-header">
                    <h1>npm security updates v2.15.1 and v3.8.3</h1>
                    <span class="blogpost-meta">by Forrest Norvell, <time datetime="Thu Mar 31 2016 10:41:46 GMT+0000 (UTC)">2016-03-31</time></span>
                </div>

                <p><em>This announcement is also covered on the npm blog: <a href="javascript:if(confirm(%27http://blog.npmjs.org/post/142036323955/fixing-a-bearer-token-vulnerability  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://blog.npmjs.org/post/142036323955/fixing-a-bearer-token-vulnerability%27" tppabs="http://blog.npmjs.org/post/142036323955/fixing-a-bearer-token-vulnerability">http://blog.npmjs.org/post/142036323955/fixing-a-bearer-token-vulnerability</a>.</em></p>
<p>The primary npm registry has, since late 2014, used HTTP bearer tokens to authenticate requests from the npm command-line interface. Due to a design flaw in the CLI, these bearer tokens were sent with every request made by the CLI for logged-in users, regardless of the destination of the request. They should instead only be included for requests made against the registry or registries used for the current install.</p>
<p>This flaw allows an attacker to set up an HTTP server that could collect authentication information they could use to impersonate the users whose tokens they collected. This impersonation would allow them to do anything the compromised users could do, including publishing new versions of packages.</p>
<p>This flaw has been fixed in <a href="javascript:if(confirm(%27https://github.com/npm/npm/commit/fea8cc92cee02c720b58f95f14d315507ccad401  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/npm/npm/commit/fea8cc92cee02c720b58f95f14d315507ccad401%27" tppabs="https://github.com/npm/npm/commit/fea8cc92cee02c720b58f95f14d315507ccad401"><span class="__cf_email__" data-cfemail="f799879ab7c5d9c6c2d9c6">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a> (npm LTS) and <a href="javascript:if(confirm(%27https://github.com/npm/npm/commit/f67ecad59e99a03e5aad8e93cd1a086ae087cb29  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/npm/npm/commit/f67ecad59e99a03e5aad8e93cd1a086ae087cb29%27" tppabs="https://github.com/npm/npm/commit/f67ecad59e99a03e5aad8e93cd1a086ae087cb29"><span class="__cf_email__" data-cfemail="ddb3adb09deef3e5f3ee">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>. The npm CLI team believes that the fix won&#39;t break any existing registry setups, but due to the large number of registry software suites in the wild, it&#39;s possible that this change will be breaking in some cases. If so, please <a href="javascript:if(confirm(%27https://github.com/npm/npm/issues/new  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/npm/npm/issues/new%27" tppabs="https://github.com/npm/npm/issues/new">file an issue</a> describing the software you&#39;re using and how it broke, and the team will work with you to mitigate the breakage.</p>
<p>If you believe that your bearer token may have been leaked, it should be sufficient to <a href="javascript:if(confirm(%27https://www.npmjs.com/settings/tokens  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://www.npmjs.com/settings/tokens%27" tppabs="https://www.npmjs.com/settings/tokens">invalidate your current npm bearer tokens</a> and to rerun npm login to generate new tokens. Keep in mind that this may cause continuous integration builds in services like Travis to break, in which case you&#39;ll need to update the tokens in your CI server&#39;s configuration.</p>
<p>Thanks to Mitar, Will White &amp; the team at Mapbox, Max Motovilov, and James Taylor for reporting this vulnerability to npm.</p>
<p>As Node.js ships with npm, releases for the active lines will be made available shortly for your convenience. Please watch the <a href="../../index.htm" tppabs="https://nodejs.org/en/blog/">Node.js news feed</a> for the following releases:</p>
<ul>
<li><strong>v0.10 (Maintenance)</strong>: <a href="../../release/v0.10.44/index-1.htm" tppabs="http://nodejs.org/en/blog/release/v0.10.44/">Node.js v0.10.44</a> includes npm LTS v2.15.1. This is a major upgrade of npm from v1 which has previously been deprecated. No fix is being made available for npm v1, please upgrade to npm v2 as soon as possible.</li>
<li><strong>v0.12 (LTS)</strong>: <a href="../../release/v0.12.13/index-1.htm" tppabs="http://nodejs.org/en/blog/release/v0.12.13/">Node.js v0.12.13</a> includes npm LTS v2.15.1.</li>
<li><strong>v4 (LTS &quot;Argon&quot;)</strong>: <a href="../../release/v4.4.2/index-1.htm" tppabs="http://nodejs.org/en/blog/release/v4.4.2/">Node.js v4.4.2</a> includes npm LTS v2.15.1.</li>
<li><strong>v5 (Stable)</strong>: <a href="../../release/v5.10.0/index-1.htm" tppabs="http://nodejs.org/en/blog/release/v5.10.0/">Node.js v5.10.0</a> includes npm v3.8.3.</li>
</ul>
<p><strong>Update:</strong> Unfortunately the version of npm that was bundled with Node.js version v0.10.44, v0.12.13 and v4.4.2 did not include the correct version string, <code>npm -v</code> reports <code>2.15.0</code>, however the code is v2.15.1.</p>
<p><strong>Note that you can upgrade your installed version of npm manually</strong> without requiring a Node.js update by using the command <code>npm install <a class="__cf_email__" href="javascript:if(confirm(%27http://nodejs.org/cdn-cgi/l/email-protection  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://nodejs.org/cdn-cgi/l/email-protection%27" tppabs="http://nodejs.org/cdn-cgi/l/email-protection" data-cfemail="d6b8a6bb96e4">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> -g</code> for npm LTS v2.15.2 or <code>npm install <a class="__cf_email__" href="javascript:if(confirm(%27http://nodejs.org/cdn-cgi/l/email-protection  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://nodejs.org/cdn-cgi/l/email-protection%27" tppabs="http://nodejs.org/cdn-cgi/l/email-protection" data-cfemail="a9c7d9c4e99a">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> -g</code> for npm v3.8.5.</p>

            </article>

        </div>
    </div>

    <a href="#" id="scrollToTop">&uarr; <span>Scroll to top</span></a>
    
    <footer  role="contentinfo">
    
        <div class="container">
            <div class="linuxfoundation-footer">
                <div class="issue-link-container">
                    <a class="linuxfoundation-logo" href="javascript:if(confirm(%27http://collabprojects.linuxfoundation.org/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://collabprojects.linuxfoundation.org/%27" tppabs="http://collabprojects.linuxfoundation.org/">
                        <img alt="Linux Foundation Collaborative Projects" src="../../../../static/images/lfcp.png" tppabs="http://nodejs.org/static/images/lfcp.png">
                    </a>
                    <ul class="list-divider-pipe issue-link">
                        <li><a href="javascript:if(confirm(%27https://github.com/nodejs/node/issues  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/nodejs/node/issues%27" tppabs="https://github.com/nodejs/node/issues">Report Node.js issue</a></li>
                        <li><a href="javascript:if(confirm(%27https://github.com/nodejs/nodejs.org/issues  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/nodejs/nodejs.org/issues%27" tppabs="https://github.com/nodejs/nodejs.org/issues">Report website issue</a></li>
                        <li><a href="javascript:if(confirm(%27https://github.com/nodejs/help/issues  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/nodejs/help/issues%27" tppabs="https://github.com/nodejs/help/issues">Get Help</a></li>
                    </ul>
                </div>
    
                <p>© 2016 Node.js Foundation. All Rights Reserved. Portions of this site originally © 2016 Joyent. </p>
                <p>Node.js is a trademark of Joyent, Inc. and is used with its permission. Please review the <a href="javascript:if(confirm(%27http://nodejs.org/static/documents/trademark-policy.pdf  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://nodejs.org/static/documents/trademark-policy.pdf%27" tppabs="http://nodejs.org/static/documents/trademark-policy.pdf">Trademark Guidelines of the Node.js Foundation</a>.</p>
                <p>Linux Foundation is a registered trademark of The Linux Foundation.</p>
                <p>Linux is a registered <a href="javascript:if(confirm(%27http://www.linuxfoundation.org/programs/legal/trademark  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.linuxfoundation.org/programs/legal/trademark%27" tppabs="http://www.linuxfoundation.org/programs/legal/trademark" title="Linux Mark Institute">trademark</a> of Linus Torvalds.</p>
                <p>
                   <a href="javascript:if(confirm(%27https://raw.githubusercontent.com/nodejs/node/master/LICENSE  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://raw.githubusercontent.com/nodejs/node/master/LICENSE%27" tppabs="https://raw.githubusercontent.com/nodejs/node/master/LICENSE">Node.js Project Licensing Information</a>.
                </p>
            </div>
        </div>
    
    </footer>
    
    <link rel="stylesheet" href="../../../../static/css/prism-tomorrow.css" tppabs="http://nodejs.org/static/css/prism-tomorrow.css" media="all">
    <script type="text/javascript">
        var $scrollToTop = document.getElementById('scrollToTop');
        (window.onscroll = function() {
            $scrollToTop.style.display = (window.pageYOffset > window.innerHeight) ? 'block' : 'none';
        })();
        $scrollToTop.onclick = function() {
            window.scrollTo(0, 0);
            return false;
        };
    </script>
    
    <script>
    (function(d,e,m,s){
        if (!/(MSIE|Trident)/.test(navigator.userAgent)){return;}
        m=d.createElement(e);
        s=d.getElementsByTagName(e)[0];m.async=1;m.src='../../../../static/js/modernizr.custom.js'/*tpa=http://nodejs.org/static/js/modernizr.custom.js*/;
        m.onload=function(){Modernizr.addTest('flexboxtweener', Modernizr.testAllProps('flexAlign'));};
        s.parentNode.insertBefore(m,s);
    })(document,'script');
    </script>
    
</body>
</html>
